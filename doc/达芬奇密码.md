# 达芬奇密码简介
《达芬奇密码》是一款由德国人发明的桌面游戏，游戏由2-4个人组成。在游戏中每个玩家执有一定的数字牌，玩家需隐藏你的数字密码，猜透对手的密码，达芬奇密码是款亲子类游戏。

中文名称：达芬奇密码/终极密码
英文名称：Da Vinci Code
设计师：Eiji Wakasugi
游戏类型：欢乐聚会 数字推理
游戏人数：2-4人
最佳人数：3-4人
游戏时间：15分钟
游戏机制：淘汰玩家

《达芬奇密码》是一款非常经典的数字推理游戏，游戏共有黑白两色牌，每色牌由数字0-11组成。游戏开始前根据人数，每人会抽3或4张牌，排成一列摆在各自面前。摆放的规则是数字小的放左边，数字大的放右边，相同数字的黑牌小于白牌。剩余的牌扣在桌子中央。每个人的回合会在桌子中央抓一张新牌，然后猜任一对手面前的某张牌，猜对数字则对手要把该牌摊开，猜错则自己要把新抓的牌在自己牌序正确的位置摊开。猜对可以选择继续猜，但猜错要换下一个玩家进行回合。游戏目的是比赛谁能最先猜出对手所有的牌。

这个游戏虽然只有简单的两种颜色和几个数字，但充满了动脑的乐趣，玩家要根据自己拥有的牌、每个人的黑白排序以及不断增加的信息（摊开的牌），推理出每张牌的正确数字，过程很有解读密码的感觉，非常适合聚会推新。此外还有一张百搭数字牌的进阶玩法，可以让游戏变得更加有难度。

# 达芬奇密码玩法
牌：26块塑料立牌，13个黑色和13个白色。每块上数字从0至11，另有黑白各一个百搭。其中，百搭仅在进阶玩法中使用，普通玩法只会用到24张牌。

游戏规则：  
1. 把24 张数字牌面朝下洗混。
2. 抓牌。如果是4个人则每人抓3张牌，如果是2个人或者是3个人则每人抓4张牌。你的手牌就是你的秘密，不要让别人知道。    
3. 把抓上来的牌按数字大小从左至右排列好，数字一样则白牌大于黑牌。 
4. 任意从某个玩家开始，按顺时针方向进行游戏。  

游戏流程：
1. 在你的回合中，你任意抓一张牌，放在一边，确保只有你看到。
2. 你指出任何其他玩家的一张牌，然后“猜”出它的数字，比如“黑5”，“白6”等等。对手必须根据实际情况，答复你“对”或者“错”。  
a. 如果你猜对，则对手把这张牌在原来的位置摊开，让大家都看到。只要你猜对，你可以重复步骤2。你也可以选择不猜，然后把刚才抓到的那张牌按前面的数字大小规则。放回到你的牌队列中。每轮至少猜一次。
b. 如果你猜错，你要把你刚摸到的牌摊开，然后面朝上按前面的数字大小规则放回到你的牌队列中。
3. 换下一个玩家。

胜利条件：
如果你是唯一一个还有立牌的玩家，你赢了！

礼节：
* 你不应该用纸和笔来辅助游戏，要用你自己的大脑。
* 建议玩家间不要讨论自己的策略和推理。
* 每次猜的时间不要超过1 分钟。超过一分钟后，他人可以对其进行20 秒倒计时。如果还没有行动，则直接算猜错。
* 指向别人的牌时要清晰明确，因为别人不会问“你指的是这块吗？”。
* 如果牌的摆放次序有误，则要直接摊开有误的牌，作为惩罚。
使用Joker 的进阶玩法：
其余规则不变，但Joker 可以放在牌队列的任何地方！别人要猜它的话也必须直接说出“Joker”。

经验：  
当场上只剩下两个人并且牌已经摸完了，那么这两个人先手必胜。

# 达芬奇密码编程
* 网上搜索达芬奇密码牌摸完了怎么办，并没有找到答案。于是本程序实现时，要求如果没牌了，猜错牌之后就要推倒自己的牌中最小的那张牌。
* 本程序不考虑joker。只考虑24张牌。

## AI应该多次填表
如下所示，AI第一次推测第一行的“黑未知”是黑4或者黑5。AI第二次推测第二行的“黑未知”是黑4。那么AI可以立即退出第一行是黑5.由此可知，AI在进行推断的时候，应该多次猜测直到无法猜出确定结果为止。    
```js
const hand = [
    '黑1,黑2,黑未知,黑6'.split(','),
    '黑3,黑未知,白4'.split(','),
]
```

## AI的贪心
AI应该尽量避免冒风险，只要能不call别人就尽量不冒险。但是这也有例外情况。例如最后只剩下一张牌10了，AI正在call别人，但是别人可能是10,11，也可能是11,12。这时，AI对猜测别人是有困惑的有风险的，但是这时AI如果不冒险call别人，当别人摸了最后一张牌之后，就可以自信的念出AI的牌了。  